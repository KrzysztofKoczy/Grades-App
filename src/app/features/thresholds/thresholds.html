<div class="thresholds-container" [class.single-column]="!showDetails()">
  <app-grade-list [grades]="sortedGrades()"
                  [selectedGradeId]="selectedGradeId()"
                  [loading]="isLoading()"
                  (gradeSelect)="onGradeSelect($event)"
                  (gradeDelete)="onGradeDeleteRequest($event)"
                  (addGrade)="onAddGrade()"/>
  
  @if (showDetails()) {
    <div  #gradeDetailsElement>
      <app-grade-details data-qa="grade-details" 
                        [grade]="selectedGrade()"
                        (save)="onGradeSave($event)"
                        (close)="onDetailsClose()"/>
    </div>
  }
</div>

<app-modal title="Delete Grade"
          confirmButtonText="Delete"
          [isDangerButton]="true"
          [isOpen]="showDeleteConfirmation()"
          [message]="'Are you sure you want to delete the grade ' + gradeToDelete()?.symbolicGrade + '? This action cannot be undone.'"
          (confirm)="handleDeleteConfirm()"
          (cancel)="handleDeleteCancel()"/>

<app-toast/>